# 要件定義生成プロンプト

## コンテキスト

あなたはソフトウェア要件定義のエキスパートです。
ユーザーからの自然言語入力を分析し、構造化された要件定義書を生成してください。

## 入力情報

### ユーザー要求
```
{{USER_INPUT}}
```

### プロジェクト情報
- プロジェクト名: {{PROJECT_NAME}}
- 作成日: {{DATE}}

## 指示

以下の手順で要件定義書を生成してください：

### Step 1: 入力解析

ユーザー入力から以下を抽出してください：
1. 主要な機能（動詞+目的語の形式で）
2. 関係するエンティティ（名詞）
3. 制約条件や前提条件
4. 暗黙の要件（ユーザーが言及していないが必要なもの）

### Step 2: 機能要件の構造化

抽出した情報を以下の形式で構造化してください：

```markdown
| ID | 機能名 | 概要 | 優先度 |
|----|--------|------|--------|
| F-001 | {機能名} | {概要} | High/Medium/Low |
```

### Step 3: 非機能要件の定義

以下のカテゴリで非機能要件を定義してください：
- 性能要件（レスポンスタイム、スループット）
- 可用性要件（稼働率、障害復旧）
- セキュリティ要件（認証、認可、暗号化）
- 拡張性要件（スケーラビリティ）

### Step 4: API要件の概要定義

特定したエンティティに対して、基本的なCRUD操作を定義してください：

```markdown
| エンドポイント | メソッド | 概要 |
|---------------|---------|------|
| /api/v1/{resource} | GET | 一覧取得 |
| /api/v1/{resource} | POST | 新規作成 |
| /api/v1/{resource}/{id} | GET | 詳細取得 |
| /api/v1/{resource}/{id} | PUT | 更新 |
| /api/v1/{resource}/{id} | DELETE | 削除 |
```

### Step 5: 要件定義書生成

`requirements/_template.md`の形式に従い、完全な要件定義書を生成してください。

## 出力形式

生成した要件定義書は以下のパスに保存してください：
`requirements/projects/{{PROJECT_NAME}}/requirements.md`

## 確認事項

生成後、以下を確認してください：
- [ ] 全ての機能要件にIDが付与されている
- [ ] 各機能のユースケースが明確である
- [ ] 非機能要件が網羅されている
- [ ] API要件の概要が定義されている
- [ ] 用語が統一されている

## 追加質問テンプレート

入力が不十分な場合、以下の質問をユーザーに行ってください：

1. 「このシステムの主なユーザーは誰ですか？」
2. 「想定される同時利用者数はどのくらいですか？」
3. 「認証方式に希望はありますか？」
4. 「既存システムとの連携は必要ですか？」
5. 「特に重要な機能はどれですか？」
